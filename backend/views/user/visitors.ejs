<!DOCTYPE html>
<html lang="zxx">
<head>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="Awaiken">
    <!-- Page Title -->
    <title>Inclub - Single Property HTML Template</title>
    <!-- Favicon Icon -->
    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png">
    <!-- Google Fonts Css-->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&amp;display=swap"
          rel="stylesheet">
    <!-- Bootstrap Css -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <!-- SlickNav Css -->
    <link href="/css/slicknav.min.css" rel="stylesheet">
    <!-- Swiper Css -->
    <link rel="stylesheet" href="/css/swiper-bundle.min.css">
    <!-- Font Awesome Icon Css-->
    <link href="/css/all.min.css" rel="stylesheet" media="screen">
    <!-- Animated Css -->
    <link href="/css/animate.css" rel="stylesheet">
    <!-- Magnific Popup Core Css File -->
    <link rel="stylesheet" href="/css/magnific-popup.css">
    <!-- Mouse Cursor Css File -->
    <link rel="stylesheet" href="/css/mousecursor.css">
    <!-- Main Custom Css -->
    <link href="/css/custom.css" rel="stylesheet" media="screen">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <%- include('../partials/headerfiles.html') %>
    <style>
        .error {
            color: red;

        }

        .form-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);
            width: 320px;
            text-align: center;
            opacity: 0;
            transform: scale(0.8);
            animation: fadeInScale 3s forwards ease-in-out;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes fadeOutScale {
            from {
                opacity: 1;
                transform: scale(1);
            }
            to {
                opacity: 0;
                transform: scale(0.8);
            }
        }

        input, select, button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            transition: all 0.3s ease-in-out;
        }

        input:focus, select:focus {
            border-color: #007bff;
            box-shadow: 0px 0px 8px rgba(0, 123, 255, 0.5);
        }

        button {
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            width: 120px;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        button:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }


    </style>


</head>
<body>

<!-- Preloader Start -->
<div class="preloader">
    <div class="loading-container">
        <div class="loading"></div>
        <div id="loading-icon"><img src="/assets/img/logo/preloader.png" alt=""></div>
    </div>
</div>
<!-- Preloader End -->

<!-- Header Start -->
<%- include('../partials/userheader') %>
<!-- Header End -->
<div class="space30"></div>

<!-- Page Header Start -->
<div class="inner-header-area">
    <div class="containe-fluid">
        <div class="row">
            <div class="col-lg-6">
                <div class="inner-header heading1">
                    <h2>Visitors</h2>
                    <div class="space28"></div>
                    <p><a href="/user/userdash">Home</a>
                        <svg xmlns="http://www.w3.org/2000/svg" width="9" height="16" viewBox="0 0 9 16" fill="none">
                            <path d="M1.5 1.74997L7.75 7.99997L1.5 14.25" stroke="#1B1B1B" stroke-width="2"
                                  stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Register a visitor
                    </p>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="inner-images">
                    <img src="/assets/img/all-images/hero/hero-img9.png" alt="housa">
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Page Header End -->



<div class="row">


    <div class="col-md-8 offset-md-2">
        <div class="container mt-5 mb-5 col-md-10 ">


            <form onsubmit="">
                <div>
                    <label for="name">Visitor's Full Name</label>
                    <input type="text" id="name" name="name" class="form-control" placeholder="name" required>
                </div>

                <div>
                    <label for="mobile">Visitor's Mobile</label>
                    <input type="text" id="mobile" name="mobile" class="form-control" placeholder="phone number"
                           required>
                </div>

                <div>
                    <label for="email">Visitor's Email</label>
                    <input type="text" id="email" name="email" class="form-control" placeholder="email" required>
                </div>

                <div>
                    <label for="floor">Resident Floor No.</label>
                    <input type="text" id="floor" name="floor" class="form-control" placeholder="floor" required>
                </div>

                <div>
                    <label for="flat">Resident Flat No.</label>
                    <input type="text" id="flat" name="flat" class="form-control" placeholder="flat" required>
                </div>


                <div>
                    <label for="date">Visiting date</label>
                    <input type="date" id="date" name="date" class="form-control" required>
                </div>


                <div>
                    <label for="parking">Parking Needed</label>
                    <select id="parking" name="parking" class="form-select" required>
                        <option>Choose...</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>

                <button type="button" onclick="register()" class="vl-btn1">Register</button>
            </form>


        </div>
    </div>


</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<<!-- Jquery Library File -->
<script src="/js/jquery-3.7.1.min.js"></script>
<!-- Bootstrap js file -->
<script src="/js/bootstrap.min.js"></script>
<!-- Validator js file -->
<script src="/js/validator.min.js"></script>
<!-- SlickNav js file -->
<script src="/js/jquery.slicknav.js"></script>
<!-- Swiper js file -->
<script src="/js/swiper-bundle.min.js"></script>
<!-- Counter js file -->
<script src="/js/jquery.waypoints.min.js"></script>
<script src="/js/jquery.counterup.min.js"></script>
<!-- Magnific js file -->
<script src="/js/jquery.magnific-popup.min.js"></script>
<!-- SmoothScroll -->
<script src="/js/SmoothScroll.js"></script>
<!-- Parallax js -->
<script src="/js/parallaxie.js"></script>
<!-- MagicCursor js file -->
<!--<script src="/js/gsap.min.js"></script>-->
<!--<script src="/js/magiccursor.js"></script>-->
<!-- Text Effect js file -->
<script src="/js/SplitText.js"></script>
<script src="/js/ScrollTrigger.min.js"></script>
<!-- YTPlayer js File -->
<script src="/js/jquery.mb.YTPlayer.min.js"></script>
<!-- Wow js file -->
<script src="/js/wow.min.js"></script>
<!-- Main Custom js file -->
<script src="/js/function.js"></script>

<script src="/js/jquery.min.js"></script>
<script src="/js/jquery-validation/dist/jquery.validate.js"></script>
<script src="https://cdn.jsdelivr.net/gh/cosmogicofficial/quantumalert@latest/minfile/quantumalert.js"
        charset="utf-8"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

<script src="/email.js"></script>


<script>


    async function register() {

        if ($("#vehicleForm").valid()) {
            var name = document.getElementById("name").value;
            var email = document.getElementById("email").value;
            var mobile = document.getElementById("mobile").value;
            var floor = document.getElementById("floor").value;
            var flat = document.getElementById("flat").value;
            var date = document.getElementById("date").value;
            var parking = document.getElementById("parking").value;


            var formData = new FormData();
            formData.append('name', name)
            formData.append('email', email)
            formData.append('mobile', mobile)
            formData.append('date', date)
            formData.append('floor', floor)
            formData.append('flat', flat)
            formData.append('parking', parking)
            var res = await fetch("/user/regsvisitor", {
                method: "POST",
                body: formData
            });
            res = await res.json();
            console.log(res);
            if (res.error) {
                Qual.errordb("Error", res.message);
            } else {
                Qual.successdb("Success", res.message);
                document.getElementById("vehicleForm").reset();

            }
        }
    }


</script>


</body>
</html>