<!DOCTYPE html>
<html lang="zxx">
<head>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="Awaiken">
    <!-- Page Title -->
    <title>Inclub - Single Property HTML Template</title>
    <!-- Favicon Icon -->
    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png">
    <!-- Google Fonts Css-->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&amp;display=swap" rel="stylesheet">
    <!-- Bootstrap Css -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <!-- SlickNav Css -->
    <link href="/css/slicknav.min.css" rel="stylesheet">
    <!-- Swiper Css -->
    <link rel="stylesheet" href="/css/swiper-bundle.min.css">
    <!-- Font Awesome Icon Css-->
    <link href="/css/all.min.css" rel="stylesheet" media="screen">
    <!-- Animated Css -->
    <link href="/css/animate.css" rel="stylesheet">
    <!-- Magnific Popup Core Css File -->
    <link rel="stylesheet" href="/css/magnific-popup.css">
    <!-- Mouse Cursor Css File -->
    <link rel="stylesheet" href="/css/mousecursor.css">
    <!-- Main Custom Css -->
    <link href="/css/custom.css" rel="stylesheet" media="screen">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

   <!-- <style>
        .error{
            color: red;

        }
        .card {
            width: 20rem;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
            background: linear-gradient(135deg,  #ffd6a0, #ffffff);
            color: #333;
        }
        .card-body {
            padding: 18px;
        }
        .card-title {
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 12px;
        }
        p {
            font-size: 1rem;
            margin-bottom: 6px;
        }
    </style>-->

<%-include('../partials/headerfiles.html')%>

</head>
<body onload="ReadgaurdData()">

<!-- Preloader Start -->
<div class="preloader">
    <div class="loading-container">
        <div class="loading"></div>
        <div id="loading-icon"><img src="/assets/img/logo/preloader.png" alt=""></div>
    </div>
</div>
<!-- Preloader End -->

<!-- Header Start -->
<%-include('../partials/adminheader')%>
<!-- Header End -->


<!-- Page Header Start -->
<div class="page-header parallaxie" >
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <!-- Page Header Box Start -->
                <div class="page-header-box">
                    <h1 class="text-anime-style-2" data-cursor="-opaque">Manage Flats</h1>

                </div>
                <!-- Page Header Box End -->
            </div>
        </div>
    </div>
</div>
<!-- Page Header End -->




<!-- Section Title Start -->
<div class="section-title text-center mt-2">

    <h2 class="text-anime-style-2" data-cursor="-opaque">Add<span> Details</span></h2>
</div>
<!-- Section Title End -->

<div class="container mt-5 mb-5">
<div class="row">
    <form id="regsform">
        <div class="col-lg-12">
            <div class=" form-group col-md-6 ">
                <label for="bname" class="form-label">Building Name</label>
                <input type="text" class="form-control" id="bname" placeholder="Enter Building name" required>
            </div>

            <div class="form-group col-md-6 mb-3">
                <label for="ftype" class="form-label">Flat Type</label>
                <select class="form-select" id="ftype" name="ftype" required>
                    <option selected disabled>Select type</option>
                    <option value="1 bhk">1 bhk</option>
                    <option value="2 bhk">2 bhk</option>
                    <option value="3 bhk">3 bhk</option>
                </select>
            </div>

            <div class="form-group col-md-6 mb-3">
                <label for="floor" class="form-label">Floor Number</label>
                <input type="text" class="form-control" id="floor" name="floor" placeholder="Enter floor number" required>
            </div>

            <div class="form-group col-md-6 mb-3">
                <label for="flat" class="form-label">Flat Number</label>
                <input type="text" class="form-control" id="flat" name="flat" placeholder="Enter flat number" required>
            </div>

            <div class="form-group col-md-6 mb-3">
                <label for="sdeposite" class="form-label">Security Deposit</label>
                <input type="text" class="form-control" id="sdeposite" name="sdeposite" placeholder="Enter Security Deposite" required>
            </div>


            <div class="form-group col-md-6 mb-3">
                <label for="rent" class="form-label">Monthly Rent</label>
                <input type="text" class="form-control" id="rent" name="rent" placeholder="Enter monthly rent" required>
            </div>



            <div class="form-group col-md-6 mb-3">
                <label for="furnished" class="form-label">Furnished Status</label>
                <select class="form-select" id="furnished" name="furnished" required>
                    <option selected disabled>Select type</option>
                    <option value="Fully Furnished">Fully Furnished</option>
                    <option value="Semi Furnished">Semi Furnished</option>
                </select>
            </div>
            <button type="button" onclick="register()" class="vl-btn1 mb-3">Register</button>

        </div>

    </form>

</div>
</div>


<!--card-->
<!-- Section Title Start -->
<div class="section-title text-center mt-2">

    <h2 class="text-anime-style-2" data-cursor="-opaque">Available<span> Flats</span></h2>
</div>
<!-- Section Title End -->
<div class="row " style="padding-left: 30px" id="cards">

</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<<!-- Jquery Library File -->
<script src="/js/jquery-3.7.1.min.js"></script>
<!-- Bootstrap js file -->
<script src="/js/bootstrap.min.js"></script>
<!-- Validator js file -->
<script src="/js/validator.min.js"></script>
<!-- SlickNav js file -->
<script src="/js/jquery.slicknav.js"></script>
<!-- Swiper js file -->
<script src="/js/swiper-bundle.min.js"></script>
<!-- Counter js file -->
<script src="/js/jquery.waypoints.min.js"></script>
<script src="/js/jquery.counterup.min.js"></script>
<!-- Magnific js file -->
<script src="/js/jquery.magnific-popup.min.js"></script>
<!-- SmoothScroll -->
<script src="/js/SmoothScroll.js"></script>
<!-- Parallax js -->
<script src="/js/parallaxie.js"></script>
<!-- MagicCursor js file -->
<!--<script src="/js/gsap.min.js"></script>-->
<!--<script src="/js/magiccursor.js"></script>-->
<!-- Text Effect js file -->
<script src="/js/SplitText.js"></script>
<script src="/js/ScrollTrigger.min.js"></script>
<!-- YTPlayer js File -->
<script src="/js/jquery.mb.YTPlayer.min.js"></script>
<!-- Wow js file -->
<script src="/js/wow.min.js"></script>
<!-- Main Custom js file -->
<script src="/js/function.js"></script>

<script src="/js/jquery.min.js"></script>
<script src="/js/jquery-validation/dist/jquery.validate.js"></script>
<script src="https://cdn.jsdelivr.net/gh/cosmogicofficial/quantumalert@latest/minfile/quantumalert.js" charset="utf-8"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script src="/email.js"></script>




<script>
    async function register()
    {
        if ($("#regsform").valid()) {

            var bname = document.getElementById("bname").value;
            var ftype = document.getElementById("ftype").value;
            var floor = document.getElementById("floor").value;
            var flat = document.getElementById("flat").value;
            var sdeposite = document.getElementById("sdeposite").value;
            var rent = document.getElementById("rent").value;
            var furnished = document.getElementById("furnished").value;


            // console.log(gender)

            var formData = new FormData();
            formData.append('bname', bname)
            formData.append('ftype', ftype)
            formData.append('floor', floor)
            formData.append('flat', flat)
            formData.append('sdeposite', sdeposite)
            formData.append('rent', rent)
            formData.append('furnished', furnished)
            var res = await fetch("/admin/addflat", {
                method: "POST",
                body: formData
            });

            res = await res.json();
            console.log(res);
            if (res.error) {
                Qual.errordb("Error", res.message);
            } else {
                Qual.successdb("Success", res.message);

            }
        }

    }


    async function ReadgaurdData() {
        try {

            var res = await fetch('/admin/viewflat');
            res = await res.json();
            var records = res.records;
            // console.log(records);
            var html = ``;
            for (var x of records) {

                    html += `<tr>`
                    html += `<td><div class=" col-md-4 mb-3" >

<div class="card">
    <div class="card-body">
        <h5 class="card-title">Flat Details</h5>
        <p><strong>Block Name:</strong> <span id="Block Name">${x.bname}</span></p>
        <p><strong>Flat Type:</strong> <span id="Flat Type">${x.ftype}</span></p>
        <p><strong>Floor Number:</strong> <span id="Floor Number">${x.floor}</span></p>
        <p><strong>Flat Number:</strong> <span id="Flat Number">${x.flat}</span></p>
        <p><strong>Security Deposit:</strong> <span id="aadhar">₹${x.sdeposite}</span></p>
        <p><strong>Monthly Rent:</strong> <span id="gate">₹${x.rent}</span></p>
        <p><strong>Furnished Status:</strong> <span id="shift">${x.furnished}</span></p>

                </div>
</div></div></td>`

                    html += `</tr>`

            }
            document.getElementById('cards').innerHTML = html;
        } catch (e) {
            console.log(e.message);
        }
    }








</script>





</body>
</html>